<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Pure White Ensemble - LUNAIRE</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <style>
    .font-lunaire { font-family: 'Playfair Display', serif; font-weight: 500; }
    .dropdown-menu { transform: translateX(-100%); transition: transform 0.3s ease-in-out; }
    .dropdown-menu.open { transform: translateX(0); }
    .overlay { opacity: 0; visibility: hidden; transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out; }
    .overlay.open { opacity: 1; visibility: visible; }

    /* Premium Page Load Animation */
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .fade-in-up { opacity: 0; animation: fadeInUp 0.8s ease-out forwards; }
    .delay-100 { animation-delay: 0.1s; }
    .delay-200 { animation-delay: 0.2s; }

    /* Image Hover Effect */
    #productImage { transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1); }
    #productImage:hover { transform: scale(1.05); }

    /* Premium Button Hover */
    .premium-btn { position: relative; overflow: hidden; transition: all 0.3s ease; }
    .premium-btn::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(255,255,255,0.1);
      transform: translate(-50%, -50%);
      transition: width 0.6s, height 0.6s;
    }
    .premium-btn:hover::before { width: 300px; height: 300px; }
    .premium-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(0,0,0,0.3); }

    .option-btn { position: relative; transition: all 0.3s cubic-bezier(0.4,0,0.2,1); }
    .option-btn:hover { transform: translateY(-3px); box-shadow: 0 6px 15px rgba(0,0,0,0.15); }
    .option-btn.selected { background: black; color: white; border-color: black; }

    .qty-btn { transition: all 0.3s ease; }
    .qty-btn:hover { background: black; color: white; transform: scale(1.1); }
    .qty-btn:active { transform: scale(0.95); }

    /* flying + bounce */
    .flying {
      position: absolute;
      font-size: 14px;
      font-weight: 700;
      color: black;
      z-index: 9999;
      pointer-events: none;
      transition: transform 0.8s cubic-bezier(.2,.8,.2,1), opacity 0.8s;
      will-change: transform, opacity;
    }
    @keyframes cartBounce { 0%,100%{transform:scale(1)} 50%{transform:scale(1.2)} }
    .cart-bounce { animation: cartBounce 0.5s ease; }

    /* Floating Particles Background */
    @keyframes float { 0%,100%{transform:translateY(0) translateX(0); opacity:.05} 50%{transform:translateY(-20px) translateX(10px); opacity:.1} }
    .floating-bg { position: fixed; width:100%; height:100%; top:0; left:0; pointer-events:none; z-index:0; }
    .particle { position:absolute; width:4px; height:4px; background:radial-gradient(circle, rgba(0,0,0,0.3), transparent); border-radius:50%; animation: float 8s infinite ease-in-out; }
    .particle:nth-child(1){top:10%; left:20%; animation-duration:7s}
    .particle:nth-child(2){top:30%; left:80%; animation-duration:9s; animation-delay:1s}
    .particle:nth-child(3){top:60%; left:10%; animation-duration:11s; animation-delay:2s}
    .particle:nth-child(4){top:80%; left:70%; animation-duration:8s; animation-delay:.5s}
    .particle:nth-child(5){top:40%; left:50%; animation-duration:10s; animation-delay:1.5s}

    .arrow-btn { transition: all 0.3s ease; }
    .arrow-btn:hover { transform: scale(1.1); box-shadow: 0 8px 20px rgba(0,0,0,0.2); }

    .premium-divider { height: 1px; background: linear-gradient(90deg, transparent, rgba(0,0,0,0.1), transparent); margin: 2rem 0; }

    html { scroll-behavior: smooth; }
    .image-container { box-shadow: 0 20px 60px rgba(0,0,0,0.1); transition: box-shadow .4s ease; }
    .image-container:hover { box-shadow: 0 30px 80px rgba(0,0,0,0.15); }

    footer a { position: relative; transition: color .3s ease; }
    footer a::after { content: ''; position:absolute; bottom:-2px; left:0; width:0; height:1px; background:white; transition: width .3s ease; }
    footer a:hover::after { width:100%; }

    main { position: relative; z-index: 1; }
  </style>
</head>
<body class="bg-white text-gray-800 font-sans">

  <!-- Floating Background Particles -->
  <div class="floating-bg">
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
  </div>

  <!-- Header -->
  <header class="relative bg-white border-b border-gray-200 z-50">
    <div class="flex items-center justify-between px-4 sm:px-6 py-3 sm:py-4">
      <!-- Menu Toggle -->
      <button id="menuToggle" class="flex flex-col space-y-1.5 p-2 sm:p-3 hover:bg-gray-100 rounded-md transition-colors">
        <span class="w-5 sm:w-7 h-0.5 bg-black transition-all"></span>
        <span class="w-5 sm:w-7 h-0.5 bg-black transition-all"></span>
        <span class="w-5 sm:w-7 h-0.5 bg-black transition-all"></span>
      </button>

      <!-- Logo -->
      <a href="Homepage.html" class="flex-1 ml-3 sm:ml-6">
        <h1 class="font-lunaire text-xl sm:text-2xl md:text-3xl lg:text-4xl text-black tracking-wide cursor-pointer">LUNAIRE</h1>
      </a>

      <!-- Icons -->
      <div class="flex items-center space-x-2 sm:space-x-4">
        <button id="searchToggle" class="p-2 hover:bg-gray-100 rounded-full transition-colors">
          <i class="fas fa-search text-black text-base sm:text-xl"></i>
        </button>
        <a href="login.html" id="login" class="p-2 hover:bg-gray-100 rounded-full transition-colors">
          <i class="fas fa-user text-black text-base sm:text-xl"></i>
        </a>
        <a href="basket.html" id="cartIcon" class="p-2 hover:bg-gray-100 rounded-full transition-all hover:scale-110 relative">
          <i class="fas fa-shopping-bag text-black text-xl"></i>
          <span id="cartCount" class="absolute -top-1 -right-1 bg-black text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">0</span>
        </a>
      </div>
    </div>
  </header>

  <div id="overlay" class="overlay fixed inset-0 bg-black bg-opacity-50 z-40"></div>

  <!-- Dropdown Menu -->
  <nav id="dropdownMenu" class="dropdown-menu fixed left-0 top-0 h-full w-80 bg-white shadow-2xl z-50 overflow-y-auto">
    <div class="p-6">
      <div class="mb-8">
        <h2 class="font-lunaire text-xl text-black tracking-wide">LUNAIRE</h2>
      </div>
      <ul class="space-y-4">
        <li><a href="Homepage.html" class="block text-gray-700 hover:text-black font-medium transition-colors">Home</a></li>
        <li>
          <button class="flex justify-between items-center w-full text-gray-700 hover:text-black font-medium transition-colors submenu-btn">
            Shop <span class="transform transition-transform">▾</span>
          </button>
          <ul class="ml-4 mt-2 space-y-2 hidden submenu">
            <li><a href="AfterShp.html" class="block text-gray-500 hover:text-black transition-colors">Collection Name</a></li>
          </ul>
        </li>
        <li>
          <button class="flex justify-between items-center w-full text-gray-700 hover:text-black font-medium transition-colors submenu-btn">
            My Account <span class="transform transition-transform">▾</span>
          </button>
          <ul class="ml-4 mt-2 space-y-2 hidden submenu">
            <li><a href="login.html" class="block text-gray-500 hover:text-black transition-colors">Login</a></li>
            <li><a href="signup.html" class="block text-gray-500 hover:text-black transition-colors">Sign-up</a></li>
          </ul>
        </li>
        <li>
          <button class="flex justify-between items-center w-full text-gray-700 hover:text-black font-medium transition-colors submenu-btn">
            About Us <span class="transform transition-transform">▾</span>
          </button>
          <ul class="ml-4 mt-2 space-y-2 hidden submenu">
            <li><a href="#" class="block text-gray-500 hover:text-black transition-colors">Our Story</a></li>
          </ul>
        </li>
        <li>
          <button class="flex justify-between items-center w-full text-gray-700 hover:text-black font-medium transition-colors submenu-btn">
            Catalogue <span class="transform transition-transform">▾</span>
          </button>
          <ul class="ml-4 mt-2 space-y-2 hidden submenu">
            <li><a href="AfterShp.html" class="block text-gray-500 hover:text-black transition-colors">Collections</a></li>
          </ul>
        </li>
        <li>
          <button class="flex justify-between items-center w-full text-gray-700 hover:text-black font-medium transition-colors submenu-btn">
            FAQs <span class="transform transition-transform">▾</span>
          </button>
          <ul class="ml-4 mt-2 space-y-2 hidden submenu">
            <li><a href="faq.html" class="block text-gray-500 hover:text-black transition-colors">FAQs</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </nav>

  <!-- Product Detail Section -->
  <main class="max-w-6xl mx-auto px-6 py-12 grid grid-cols-1 md:grid-cols-2 gap-10">
    <!-- Left: Product Image + Description -->
    <div class="space-y-8 fade-in-up delay-100">
      <!-- Image -->
      <div class="relative rounded-lg overflow-hidden image-container">
        <div class="relative w-full h-[700px] overflow-hidden">
          <img id="productImage" src="images/white dress 4.jpg" alt="Pure White Ensemble" class="w-full h-full object-cover">
        </div>

        <!-- Arrows -->
        <button onclick="prevImage()" class="arrow-btn absolute top-1/2 left-3 transform -translate-y-1/2 bg-white bg-opacity-70 hover:bg-opacity-100 p-3 rounded-full shadow">
          <i class="fas fa-chevron-left text-black"></i>
        </button>
        <button onclick="nextImage()" class="arrow-btn absolute top-1/2 right-3 transform -translate-y-1/2 bg-white bg-opacity-70 hover:bg-opacity-100 p-3 rounded-full shadow">
          <i class="fas fa-chevron-right text-black"></i>
        </button>
      </div>

      <!-- Detailed Description -->
      <div class="text-gray-700 leading-relaxed">
        <p class="mb-4"><strong>Colour:</strong> Pure White Ensemble</p>
        <div class="premium-divider"></div>
        <h3 class="font-bold mb-2 text-lg">Product Description:</h3>
        <p class="mb-4">A timeless pure white ensemble in breathable cotton lawn with delicate finishes — versatile for casual and dressier days.</p>

        <h3 class="font-bold mb-2 text-lg">Fabric Details:</h3>
        <ul class="list-disc list-inside mb-4 space-y-1">
          <li>Shirt: Cotton Lawn</li>
           <li>Trouser: Cotton</li>

          <li>Dupatta: Organza </li>
        </ul>
      </div>
    </div>

    <!-- Right: Product Info -->
    <div class="fade-in-up delay-200">
      <h2 class="text-4xl font-bold mb-4">Pure White Ensemble</h2>
      <p class="text-2xl text-gray-600 mb-6">Rs. 4,000</p>

      <div class="premium-divider"></div>

      <!-- Sizes -->
      <div class="mb-6">
        <h3 class="font-semibold mb-3 text-lg">Size:</h3>
        <div class="flex space-x-3">
          <button class="size-btn option-btn border-2 border-gray-300 px-5 py-2 rounded-lg hover:bg-gray-100">S</button>
          <button class="size-btn option-btn border-2 border-gray-300 px-5 py-2 rounded-lg hover:bg-gray-100 selected">M</button>
          <button class="size-btn option-btn border-2 border-gray-300 px-5 py-2 rounded-lg hover:bg-gray-100">L</button>
          <button class="size-btn option-btn border-2 border-gray-300 px-5 py-2 rounded-lg hover:bg-gray-100">XL</button>
        </div>
      </div>

     <!-- size chart + - -->
        <p class="mt-3">
  <button id="openSizeChart" class="text-black underline hover:text-gray-700 transition">
    View Size Chart
  </button>
</p>

      <!-- Quantity with + - -->
      <div class="mb-8">
        <h3 class="font-semibold mb-3 text-lg">Quantity:</h3>
        <div class="flex items-center space-x-3">
          <button id="decreaseQty" class="qty-btn border-2 border-gray-300 px-4 py-2 rounded-lg text-lg font-bold">-</button>
          <input id="quantityInput" type="number" value="1" min="1" class="border-2 border-gray-300 w-20 text-center rounded-lg py-2 text-lg font-semibold" readonly>
          <button id="increaseQty" class="qty-btn border-2 border-gray-300 px-4 py-2 rounded-lg text-lg font-bold">+</button>
        </div>
      </div>

      <!-- Add to Cart -->
      <button id="addToCartBtn" class="premium-btn bg-black text-white px-8 py-4 rounded-lg text-lg font-semibold w-full md:w-auto">
        Add to Cart
      </button>
    </div>
  </main>

  <!-- Footer placeholder (fetched) -->
  <div id="footer"></div>
<!-- SIZE CHART MODAL -->
<div id="sizeChartModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
  <div class="bg-white rounded-lg shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-y-auto relative animate-fadeIn">
    <button id="closeSizeChart" class="absolute top-4 right-4 text-gray-600 hover:text-black text-3xl z-10 w-10 h-10 flex items-center justify-center hover:bg-gray-100 rounded-full transition">&times;</button>
    
    <div class="p-6 md:p-8">
      <h3 class="text-2xl md:text-3xl font-bold mb-6 text-center uppercase tracking-wide">Size Guide</h3>
      
      <div class="mb-6 text-center">
        <span class="text-lg font-semibold text-blue-600 cursor-pointer border-b-2 border-blue-600 pb-1">INCHES</span>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-6">
        <!-- Diagram Section -->
        <div class="flex items-center justify-center bg-gray-50 rounded-lg p-6">
          <div class="relative max-w-xs">
            <svg viewBox="0 0 300 500" class="w-full h-auto">
              <!-- Dress outline -->
              <path d="M 100 50 L 80 80 L 80 150 L 70 350 L 70 450 L 130 450 L 130 350 L 120 150 L 120 80 Z M 200 50 L 220 80 L 220 150 L 230 350 L 230 450 L 170 450 L 170 350 L 180 150 L 180 80 Z" 
                    fill="none" stroke="#333" stroke-width="2"/>
              
              <!-- Neckline -->
              <path d="M 120 80 Q 150 60 180 80" fill="none" stroke="#333" stroke-width="2"/>
              
              <!-- Sleeves -->
              <path d="M 80 80 L 60 120 L 70 150" fill="none" stroke="#333" stroke-width="2"/>
              <path d="M 220 80 L 240 120 L 230 150" fill="none" stroke="#333" stroke-width="2"/>
              
              <!-- Measurement lines and labels -->
              
              <!-- SHOULDER -->
              <line x1="120" y1="75" x2="180" y2="75" stroke="#000" stroke-width="1.5" stroke-dasharray="3,3"/>
              <text x="245" y="80" font-size="11" font-weight="bold">SHOULDER</text>
              <line x1="180" y1="75" x2="240" y2="75" stroke="#000" stroke-width="1"/>
              
              <!-- CHEST -->
              <line x1="120" y1="130" x2="180" y2="130" stroke="#000" stroke-width="1.5" stroke-dasharray="3,3"/>
              <text x="245" y="135" font-size="11" font-weight="bold">CHEST</text>
              <line x1="180" y1="130" x2="240" y2="130" stroke="#000" stroke-width="1"/>
              
              <!-- LENGTH -->
              <line x1="195" y1="80" x2="195" y2="450" stroke="#000" stroke-width="1.5" stroke-dasharray="3,3"/>
              <text x="245" y="270" font-size="11" font-weight="bold">LENGTH</text>
              <line x1="195" y1="270" x2="240" y2="270" stroke="#000" stroke-width="1"/>
              
              <!-- ARM HOLE -->
              <ellipse cx="210" cy="115" rx="12" ry="20" fill="none" stroke="#000" stroke-width="1.5" stroke-dasharray="3,3"/>
              <text x="245" y="120" font-size="11" font-weight="bold">ARM HOLE</text>
              <line x1="222" y1="115" x2="240" y2="115" stroke="#000" stroke-width="1"/>
              
              <!-- SLEEVE LENGTH -->
              <line x1="85" y1="80" x2="70" y2="150" stroke="#000" stroke-width="1.5" stroke-dasharray="3,3"/>
              <text x="15" y="120" font-size="11" font-weight="bold">SLEEVE</text>
              <text x="15" y="133" font-size="11" font-weight="bold">LENGTH</text>
              
              <!-- SLEEVE OPENING -->
              <line x1="65" y1="150" x2="75" y2="150" stroke="#000" stroke-width="1.5" stroke-dasharray="3,3"/>
              <text x="15" y="170" font-size="10" font-weight="bold">SLEEVE</text>
              <text x="15" y="182" font-size="10" font-weight="bold">OPENING</text>
              
              <!-- FRONT BORDER -->
              <line x1="150" y1="450" x2="150" y2="480" stroke="#000" stroke-width="1.5" stroke-dasharray="3,3"/>
              <text x="100" y="495" font-size="10" font-weight="bold">FRONT BORDER</text>
            </svg>
          </div>
        </div>

        <!-- Table Section -->
        <div class="overflow-x-auto">
          <table class="w-full border-collapse">
            <thead>
              <tr class="bg-gray-100">
                <th class="border border-gray-300 px-3 py-3 text-left font-bold uppercase text-sm">Size</th>
                <th class="border border-gray-300 px-3 py-3 text-center font-bold text-sm">S</th>
                <th class="border border-gray-300 px-3 py-3 text-center font-bold text-sm">M</th>
                <th class="border border-gray-300 px-3 py-3 text-center font-bold text-sm">L</th>
                <th class="border border-gray-300 px-3 py-3 text-center font-bold text-sm">XL</th>
              </tr>
            </thead>
            <tbody class="text-sm">
              <tr>
                <td class="border border-gray-300 px-3 py-2 font-semibold">LENGTH</td>
                <td class="border border-gray-300 px-3 py-2 text-center">43</td>
                <td class="border border-gray-300 px-3 py-2 text-center">44</td>
                <td class="border border-gray-300 px-3 py-2 text-center">45</td>
                <td class="border border-gray-300 px-3 py-2 text-center">46</td>
              </tr>
              <tr class="bg-gray-50">
                <td class="border border-gray-300 px-3 py-2 font-semibold">SHOULDER</td>
                <td class="border border-gray-300 px-3 py-2 text-center">13.5</td>
                <td class="border border-gray-300 px-3 py-2 text-center">14</td>
                <td class="border border-gray-300 px-3 py-2 text-center">14.5</td>
                <td class="border border-gray-300 px-3 py-2 text-center">15</td>
              </tr>
              <tr>
                <td class="border border-gray-300 px-3 py-2 font-semibold">CHEST</td>
                <td class="border border-gray-300 px-3 py-2 text-center">18.5</td>
                <td class="border border-gray-300 px-3 py-2 text-center">19.5</td>
                <td class="border border-gray-300 px-3 py-2 text-center">20.5</td>
                <td class="border border-gray-300 px-3 py-2 text-center">22</td>
              </tr>
              <tr class="bg-gray-50">
                <td class="border border-gray-300 px-3 py-2 font-semibold">FRONT BORDER</td>
                <td class="border border-gray-300 px-3 py-2 text-center">25</td>
                <td class="border border-gray-300 px-3 py-2 text-center">26</td>
                <td class="border border-gray-300 px-3 py-2 text-center">27</td>
                <td class="border border-gray-300 px-3 py-2 text-center">28</td>
              </tr>
              <tr>
                <td class="border border-gray-300 px-3 py-2 font-semibold">ARM HOLE</td>
                <td class="border border-gray-300 px-3 py-2 text-center">9</td>
                <td class="border border-gray-300 px-3 py-2 text-center">9.5</td>
                <td class="border border-gray-300 px-3 py-2 text-center">10</td>
                <td class="border border-gray-300 px-3 py-2 text-center">10.5</td>
              </tr>
              <tr class="bg-gray-50">
                <td class="border border-gray-300 px-3 py-2 font-semibold">SLEEVE LENGTH</td>
                <td class="border border-gray-300 px-3 py-2 text-center">21</td>
                <td class="border border-gray-300 px-3 py-2 text-center">21.5</td>
                <td class="border border-gray-300 px-3 py-2 text-center">22</td>
                <td class="border border-gray-300 px-3 py-2 text-center">22.5</td>
              </tr>
              <tr>
                <td class="border border-gray-300 px-3 py-2 font-semibold">SLEEVE OPENING</td>
                <td class="border border-gray-300 px-3 py-2 text-center">6.5</td>
                <td class="border border-gray-300 px-3 py-2 text-center">7</td>
                <td class="border border-gray-300 px-3 py-2 text-center">7</td>
                <td class="border border-gray-300 px-3 py-2 text-center">7.5</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
  <!-- Scripts -->
  <script>
    // MENU + SUBMENU TOGGLE
    const menuToggle = document.getElementById("menuToggle");
    const dropdownMenu = document.getElementById("dropdownMenu");
    const overlay = document.getElementById("overlay");

    menuToggle.addEventListener("click", () => {
      dropdownMenu.classList.toggle("open");
      overlay.classList.toggle("open");
    });

    overlay.addEventListener("click", () => {
      dropdownMenu.classList.remove("open");
      overlay.classList.remove("open");
    });

    document.querySelectorAll(".submenu-btn").forEach((btn) => {
      btn.addEventListener("click", () => {
        const submenu = btn.nextElementSibling;
        submenu.classList.toggle("hidden");
        const arrow = btn.querySelector("span");
        if (arrow) arrow.classList.toggle("rotate-180");
      });
    });

    // SIZE / COLOR SELECTION (single-select groups)
    document.querySelectorAll('.size-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        document.querySelectorAll('.size-btn').forEach(b => b.classList.remove('selected'));
        this.classList.add('selected');
      });
    });

    document.querySelectorAll('.color-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        document.querySelectorAll('.color-btn').forEach(b => b.classList.remove('selected'));
        this.classList.add('selected');
      });
    });
  </script>

  <script>
    // IMAGE CAROUSEL
    const images = ["images/white dress 3.jpg","images/white dress 2.jpg","images/white dress 1.jpg","images/white dress 4.jpg"];
    let currentIndex = 0;
    const productImage = document.getElementById("productImage");

    function showImage(index) { productImage.src = images[index]; }
    function nextImage() { currentIndex = (currentIndex + 1) % images.length; showImage(currentIndex); }
    function prevImage() { currentIndex = (currentIndex - 1 + images.length) % images.length; showImage(currentIndex); }

    // CART - localStorage backed, same behavior as Purple page
    const addToCartBtn = document.getElementById("addToCartBtn");
    const cartCount = document.getElementById("cartCount");
    const quantityInput = document.getElementById("quantityInput");
    const increaseQty = document.getElementById("increaseQty");
    const decreaseQty = document.getElementById("decreaseQty");
    const cartIcon = document.getElementById("cartIcon");

    // Load cart from localStorage
    let cartItems = JSON.parse(localStorage.getItem('cartItems') || '[]');

    // Update cart count UI (sum of quantities)
    function updateCartCount() {
      const totalItems = cartItems.reduce((sum, item) => sum + (item.quantity || 0), 0);
      cartCount.textContent = totalItems;
    }

    // Initialize count on load
    updateCartCount();

    // Quantity handlers
    increaseQty.addEventListener("click", () => {
      quantityInput.value = parseInt(quantityInput.value) + 1;
    });

    decreaseQty.addEventListener("click", () => {
      if (parseInt(quantityInput.value) > 1) {
        quantityInput.value = parseInt(quantityInput.value) - 1;
      }
    });

    // Helper: center of rect
    function centerOfRect(rect) {
      return { x: rect.left + rect.width / 2 + window.scrollX, y: rect.top + rect.height / 2 + window.scrollY };
    }

    addToCartBtn.addEventListener("click", (e) => {
      const quantity = parseInt(quantityInput.value) || 1;

      // Selected size
      const selectedSizeBtn = document.querySelector('.size-btn.selected');
      const selectedSize = selectedSizeBtn ? selectedSizeBtn.textContent.trim() : 'M';

      // Product details
      const productName = document.querySelector('main h2').textContent.trim();
      const productPrice = document.querySelector('main p.text-2xl').textContent.trim();
      const productImg = productImage.src;

      // Parse price to numeric
      const cleanPrice = productPrice.replace(/Rs\./g, '').replace(/PKR/g, '').replace(/[^\d.,]/g, '').replace(/,/g, '');
      const priceValue = parseFloat(cleanPrice) || 0;

      const newItem = {
        name: productName,
        price: priceValue,
        img: productImg,
        size: selectedSize,
        quantity: quantity
      };

      // Merge with existing if same name+size
      const existingIndex = cartItems.findIndex(item => item.name === newItem.name && item.size === newItem.size);
      if (existingIndex >= 0) {
        cartItems[existingIndex].quantity += quantity;
      } else {
        cartItems.push(newItem);
      }

      // Persist
      localStorage.setItem('cartItems', JSON.stringify(cartItems));
      updateCartCount();

      // Cart bounce
      if (cartIcon) {
        cartIcon.classList.add('cart-bounce');
        setTimeout(() => cartIcon.classList.remove('cart-bounce'), 500);
      }

      // Flying + animation
      const flying = document.createElement("span");
      flying.className = "flying";
      flying.textContent = `+${quantity}`;
      document.body.appendChild(flying);

      const startRect = e.target.getBoundingClientRect();
      const start = centerOfRect(startRect);
      const endRect = cartIcon.getBoundingClientRect();
      const end = centerOfRect(endRect);

      // position flying at start center
      const flyingRect = flying.getBoundingClientRect();
      flying.style.left = (start.x - flyingRect.width / 2) + "px";
      flying.style.top = (start.y - flyingRect.height / 2) + "px";
      flying.style.opacity = "1";
      flying.style.transform = "translate(0,0) scale(1)";

      // force layout
      void flying.offsetWidth;

      const dx = end.x - start.x;
      const dy = end.y - start.y;

      requestAnimationFrame(() => {
        flying.style.transform = `translate(${dx}px, ${dy}px) scale(0.5)`;
        flying.style.opacity = "0";
      });

      setTimeout(() => flying.remove(), 900);

      // Quick user feedback
      alert(`${productName} (${quantity}x) added to cart!`);
    });

    // Load footer dynamically (keeps your footer.html behavior)
    fetch("footer.html")
      .then(response => response.text())
      .then(data => { document.getElementById("footer").innerHTML = data; })
      .catch(err => console.error("Failed to load footer:", err));
           // ===== SIZE CHART MODAL =====
const openSizeChart = document.getElementById("openSizeChart");
const closeSizeChart = document.getElementById("closeSizeChart");
const sizeChartModal = document.getElementById("sizeChartModal");

openSizeChart.addEventListener("click", () => {
  sizeChartModal.classList.remove("hidden");
  sizeChartModal.classList.add("flex");
});

closeSizeChart.addEventListener("click", () => {
  sizeChartModal.classList.add("hidden");
  sizeChartModal.classList.remove("flex");
});

sizeChartModal.addEventListener("click", (e) => {
  if (e.target === sizeChartModal) {
    sizeChartModal.classList.add("hidden");
    sizeChartModal.classList.remove("flex");
  }
});
  </script>
</body>
</html>
